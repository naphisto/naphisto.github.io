(this["webpackJsonplist-countries"]=this["webpackJsonplist-countries"]||[]).push([[0],{98:function(e,n,t){"use strict";t.r(n);var a=t(4),i=t(28),r=t.n(i),c=t(1),o=t(25),l=t(9),s=t(31),u=t(18),d=t(41),b=function(e){var n=e.link,t=e.alpha2Code,i=e.name,r=e.population;return Object(a.jsx)(o.a,{to:n,children:Object(a.jsxs)("div",{className:"cursor-pointer border-4 border-white hover:border-indigo-500 bg-white flex p-5 rounded-lg w-full transition duration-200 ease-in-out",children:[Object(a.jsx)("div",{className:"w-14 h-14 sm:w-20 sm:h-20 mr-4 sm:mr-6 bg-indigo-100 rounded-md flex justify-center items-center",children:Object(a.jsx)("span",{className:"text-xl sm:text-2xl font-semibold",children:t})}),Object(a.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(a.jsx)("span",{className:"text-lg sm:text-xl font-bold mb-1 sm:mb-2",children:i}),Object(a.jsx)("span",{className:"text-sm sm:text-base font-semibold text-gray-300",children:"Population: ".concat(r)})]})]})})},j=t(15);function g(){var e=Object(j.a)(["\n  width: 100%;\n  height: 250px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .lds-facebook {\n    display: inline-block;\n    position: relative;\n    width: 80px;\n    height: 80px;\n  }\n  .lds-facebook div {\n    display: inline-block;\n    position: absolute;\n    left: 8px;\n    width: 16px;\n    background:#3B82F6;\n    animation: lds-facebook 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\n  }\n  .lds-facebook div:nth-child(1) {\n    left: 8px;\n    animation-delay: -0.24s;\n  }\n  .lds-facebook div:nth-child(2) {\n    left: 32px;\n    animation-delay: -0.12s;\n  }\n  .lds-facebook div:nth-child(3) {\n    left: 56px;\n    animation-delay: 0;\n  }\n  @keyframes lds-facebook {\n    0% {\n      top: 8px;\n      height: 64px;\n    }\n    50%, 100% {\n      top: 24px;\n      height: 32px;\n    }\n  }\n"]);return g=function(){return e},e}var p=t(66).a.div(g()),m=function(){return Object(a.jsx)(p,{children:Object(a.jsxs)("div",{className:"lds-facebook",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})};function x(){var e=Object(j.a)(["\n  query Country($currency: String!, $language: String!, $region: String!, $searchText: String!) {\n    Country(filter: {\n      AND: [\n        { currencies: { code_contains: $currency } }\n        { officialLanguages: { iso639_2_contains: $language } }\n        { subregion: { region: { name_contains: $region } } }\n      ]\n      OR: [\n        { alpha2Code_contains: $searchText }\n        { name_contains: $searchText }\n      ]\n    }) {\n      _id,\n      name,\n      alpha2Code,\n      population,\n    }\n  } \n"]);return x=function(){return e},e}function h(){var e=Object(j.a)(["\n  {\n    Country {\n      _id,\n      name,\n      alpha2Code,\n      population,\n    }\n  }\n"]);return h=function(){return e},e}var O=Object(l.gql)(h()),v=Object(l.gql)(x()),f=function(){var e=Object(l.useQuery)(O),n=e.data,t=e.loading,a=Object(l.useQuery)(v,{variables:{searchText:"",currency:"",language:"",region:""}}),i=a.data,r=a.loading,c=a.refetch;return{countriesByFilter:null===i||void 0===i?void 0:i.Country,countries:null===n||void 0===n?void 0:n.Country,loading:t||r,searchByFilter:function(e){c(e)}}};function y(){var e=Object(j.a)(["\n  {\n    Currency {\n      _id,\n      code,\n      name,\n      symbol,\n    }\n  }\n"]);return y=function(){return e},e}var N=Object(l.gql)(y()),C=function(){var e=Object(l.useQuery)(N),n=e.data,t=e.loading;return{currencyOptions:null===n||void 0===n?void 0:n.Currency.map((function(e){var n=e.code;return{label:e.name,value:n}})),currencyOptionsLoading:t}};function k(){var e=Object(j.a)(["\n  {\n    Language {\n      _id,\n      name,\n      iso639_2,\n    }\n  }\n"]);return k=function(){return e},e}var w=Object(l.gql)(k()),_=function(){var e=Object(l.useQuery)(w),n=e.data,t=e.loading;return{languageOptions:null===n||void 0===n?void 0:n.Language.map((function(e){return{label:e.name,value:e.iso639_2}})),languageOptionsLoading:t}};function L(){var e=Object(j.a)(["\n  {\n    Region {\n      _id,\n      name,\n    }\n  }\n"]);return L=function(){return e},e}var S=Object(l.gql)(L()),$=function(){var e=Object(l.useQuery)(S),n=e.data,t=e.loading;return{regionOptions:null===n||void 0===n?void 0:n.Region.map((function(e){var n=e.name;return{label:n,value:n}})),regionOptionsLoading:t}},T={control:function(e){return Object(u.a)(Object(u.a)({},e),{},{height:"100%",borderColor:"#D1D5DB",borderRadius:".375rem"})}},q=function(){var e=Object(c.useState)({searchText:"",currency:"",language:"",region:""}),n=Object(s.a)(e,2),t=n[0],i=n[1],r=Object(c.useState)([]),o=Object(s.a)(r,2),l=o[0],j=o[1],g=C(),p=g.currencyOptions,x=g.currencyOptionsLoading,h=_(),O=h.languageOptions,v=h.languageOptionsLoading,y=$(),N=y.regionOptions,k=y.regionOptionsLoading,w=f(),L=w.countries,S=w.countriesByFilter,q=w.loading,D=w.searchByFilter;return Object(c.useEffect)((function(){q||(""===t.searchText&&""===t.currency&&""===t.language&&""===t.region?j(L):j(S))}),[L,S,q,t.searchText]),Object(c.useEffect)((function(){D(t)}),[t]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[Object(a.jsx)("input",{onChange:function(e){return i(Object(u.a)(Object(u.a)({},t),{},{searchText:e.target.value}))},className:"p-4 border-gray-300 col-span-3 sm:col-span-4 lg:col-span-2 text-base rounded-lg border outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Search country"}),Object(a.jsx)(d.a,{options:p,isLoading:x,isClearable:!0,onChange:function(e){return i(Object(u.a)(Object(u.a)({},t),{},{currency:(null===e||void 0===e?void 0:e.value)||""}))},placeholder:"Select a currency",styles:T,className:"w-full hidden lg:block"}),Object(a.jsx)(d.a,{options:O,isLoading:v,isClearable:!0,onChange:function(e){return i(Object(u.a)(Object(u.a)({},t),{},{language:(null===e||void 0===e?void 0:e.value)||""}))},placeholder:"Select a language",styles:T,className:"w-full hidden lg:block"}),Object(a.jsx)(d.a,{options:N,isLoading:k,isClearable:!0,onChange:function(e){return i(Object(u.a)(Object(u.a)({},t),{},{region:(null===e||void 0===e?void 0:e.value)||""}))},placeholder:"Select a region",styles:T,className:"w-full hidden lg:block"}),Object(a.jsx)("button",{className:"lg:hidden bg-white h-full col-span-1 sm:col-span-1 p-3 rounded-lg border border-gray-300 flex justify-center items-center cursor-pointer hover:bg-gray-100",type:"button",children:Object(a.jsx)("span",{className:"material-icons",children:"filter_list"})})]}),q?Object(a.jsx)(m,{}):Object(a.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:null===l||void 0===l?void 0:l.map((function(e){var n=e._id,t=e.name,i=e.alpha2Code,r=e.population;return Object(a.jsx)(b,{alpha2Code:i,name:t,link:"/".concat(i),population:r},n)}))})]})};function D(){var e=Object(j.a)(["\n  query Country($country: String!) {\n    Country (alpha2Code:$country) {\n      _id,\n      name,\n      alpha2Code,\n      population,\n      populationDensity,\n      demonym,\n      capital,\n      area,\n      nativeName,\n    }\n  }\n"]);return D=function(){return e},e}var B=function(e){var n=e.title,t=e.value;return void 0===t||""===t?null:Object(a.jsxs)("div",{className:"flex-1 p-5 rounded-lg border border-gray-300",children:[Object(a.jsx)("span",{className:"block text-xl font-semibold mb-1 sm:mb-2",children:n}),Object(a.jsx)("span",{children:t})]})},Q=Object(l.gql)(D()),F=function(e){var n=e.country,t=Object(l.useQuery)(Q,{variables:{country:n}}),i=t.data;if(t.loading)return Object(a.jsx)(m,{});if(0===(null===i||void 0===i?void 0:i.Country.length))return Object(a.jsx)("div",{className:"text-center p-10",children:Object(a.jsx)("h1",{className:"text-xl sm:text-4xl",children:"This country does not exist"})});var r=null===i||void 0===i?void 0:i.Country,c=Object(s.a)(r,1)[0],u=c.alpha2Code,d=c.name,b=c.population,j=c.populationDensity,g=c.demonym,p=c.capital,x=c.area,h=c.nativeName;return Object(a.jsxs)("div",{className:"bg-white rounded-lg p-8 md:mb-5",children:[Object(a.jsxs)("div",{className:"flex items-center mb-5",children:[Object(a.jsx)("div",{className:"flex-1",children:Object(a.jsxs)("h1",{className:"text-2xl md:text-4xl font-bold mb-1",children:[d,Object(a.jsx)("span",{className:"text-gray-400 font-semibold",children:" (".concat(u,")")})]})}),Object(a.jsx)(o.a,{to:"/",children:Object(a.jsx)("span",{className:"material-icons text-3xl",children:"close"})})]}),Object(a.jsxs)("div",{className:"flex flex-wrap gap-6",children:[Object(a.jsx)(B,{title:"Demonym",value:g}),Object(a.jsx)(B,{title:"Capital",value:p}),Object(a.jsx)(B,{title:"Population",value:b}),Object(a.jsx)(B,{title:"Density",value:j}),Object(a.jsx)(B,{title:"Area",value:x}),Object(a.jsx)(B,{title:"Native Name",value:h})]})]})},A=new l.ApolloClient({uri:"https://countries-274616.ew.r.appspot.com/",cache:new l.InMemoryCache}),R=function(){return Object(a.jsx)("div",{className:"p-5 sm:p-10",children:Object(a.jsx)(l.ApolloProvider,{client:A,children:Object(a.jsxs)(o.b,{children:[Object(a.jsx)(q,{path:"/"}),Object(a.jsx)(F,{path:"/:country"})]})})})};r.a.render(Object(a.jsx)(R,{}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.e5e1673e.chunk.js.map